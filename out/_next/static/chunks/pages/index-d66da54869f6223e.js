(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9305)}])},8137:function(e,t,n){var r=n(3019),o=r,s=function(){return this?this:window}.call(null);o.exportSymbol("proto.ngoapi.EventTuple",null,s),o.exportSymbol("proto.ngoapi.StreamEventsRequest",null,s),o.exportSymbol("proto.ngoapi.StreamEventsResponse",null,s),o.exportSymbol("proto.ngoapi.UUID",null,s),proto.ngoapi.UUID=function(e){r.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.ngoapi.UUID,r.Message),o.DEBUG&&!COMPILED&&(proto.ngoapi.UUID.displayName="proto.ngoapi.UUID"),proto.ngoapi.StreamEventsRequest=function(e){r.Message.initialize(this,e,0,-1,proto.ngoapi.StreamEventsRequest.repeatedFields_,null)},o.inherits(proto.ngoapi.StreamEventsRequest,r.Message),o.DEBUG&&!COMPILED&&(proto.ngoapi.StreamEventsRequest.displayName="proto.ngoapi.StreamEventsRequest"),proto.ngoapi.EventTuple=function(e){r.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.ngoapi.EventTuple,r.Message),o.DEBUG&&!COMPILED&&(proto.ngoapi.EventTuple.displayName="proto.ngoapi.EventTuple"),proto.ngoapi.StreamEventsResponse=function(e){r.Message.initialize(this,e,0,-1,proto.ngoapi.StreamEventsResponse.repeatedFields_,null)},o.inherits(proto.ngoapi.StreamEventsResponse,r.Message),o.DEBUG&&!COMPILED&&(proto.ngoapi.StreamEventsResponse.displayName="proto.ngoapi.StreamEventsResponse"),r.Message.GENERATE_TO_OBJECT&&(proto.ngoapi.UUID.prototype.toObject=function(e){return proto.ngoapi.UUID.toObject(e,this)},proto.ngoapi.UUID.toObject=function(e,t){var n={uuid:r.Message.getFieldWithDefault(t,1,"")};return e&&(n.$jspbMessageInstance=t),n}),proto.ngoapi.UUID.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.ngoapi.UUID;return proto.ngoapi.UUID.deserializeBinaryFromReader(n,t)},proto.ngoapi.UUID.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setUuid(n);break;default:t.skipField()}}return e},proto.ngoapi.UUID.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.ngoapi.UUID.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.ngoapi.UUID.serializeBinaryToWriter=function(e,t){var n;(n=e.getUuid()).length>0&&t.writeString(1,n)},proto.ngoapi.UUID.prototype.getUuid=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.ngoapi.UUID.prototype.setUuid=function(e){return r.Message.setProto3StringField(this,1,e)},proto.ngoapi.StreamEventsRequest.repeatedFields_=[3,4],r.Message.GENERATE_TO_OBJECT&&(proto.ngoapi.StreamEventsRequest.prototype.toObject=function(e){return proto.ngoapi.StreamEventsRequest.toObject(e,this)},proto.ngoapi.StreamEventsRequest.toObject=function(e,t){var n,o={tenantid:(n=t.getTenantid())&&proto.ngoapi.UUID.toObject(e,n),eventtype:r.Message.getFieldWithDefault(t,2,""),eventsubtypeList:null==(n=r.Message.getRepeatedField(t,3))?void 0:n,eventactionList:null==(n=r.Message.getRepeatedField(t,4))?void 0:n,lastindex:r.Message.getFieldWithDefault(t,5,"")};return e&&(o.$jspbMessageInstance=t),o}),proto.ngoapi.StreamEventsRequest.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.ngoapi.StreamEventsRequest;return proto.ngoapi.StreamEventsRequest.deserializeBinaryFromReader(n,t)},proto.ngoapi.StreamEventsRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=new proto.ngoapi.UUID;t.readMessage(n,proto.ngoapi.UUID.deserializeBinaryFromReader),e.setTenantid(n);break;case 2:n=t.readString();e.setEventtype(n);break;case 3:n=t.readString();e.addEventsubtype(n);break;case 4:n=t.readString();e.addEventaction(n);break;case 5:n=t.readString();e.setLastindex(n);break;default:t.skipField()}}return e},proto.ngoapi.StreamEventsRequest.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.ngoapi.StreamEventsRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.ngoapi.StreamEventsRequest.serializeBinaryToWriter=function(e,t){var n=void 0;null!=(n=e.getTenantid())&&t.writeMessage(1,n,proto.ngoapi.UUID.serializeBinaryToWriter),(n=e.getEventtype()).length>0&&t.writeString(2,n),(n=e.getEventsubtypeList()).length>0&&t.writeRepeatedString(3,n),(n=e.getEventactionList()).length>0&&t.writeRepeatedString(4,n),(n=e.getLastindex()).length>0&&t.writeString(5,n)},proto.ngoapi.StreamEventsRequest.prototype.getTenantid=function(){return r.Message.getWrapperField(this,proto.ngoapi.UUID,1)},proto.ngoapi.StreamEventsRequest.prototype.setTenantid=function(e){return r.Message.setWrapperField(this,1,e)},proto.ngoapi.StreamEventsRequest.prototype.clearTenantid=function(){return this.setTenantid(void 0)},proto.ngoapi.StreamEventsRequest.prototype.hasTenantid=function(){return null!=r.Message.getField(this,1)},proto.ngoapi.StreamEventsRequest.prototype.getEventtype=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.ngoapi.StreamEventsRequest.prototype.setEventtype=function(e){return r.Message.setProto3StringField(this,2,e)},proto.ngoapi.StreamEventsRequest.prototype.getEventsubtypeList=function(){return r.Message.getRepeatedField(this,3)},proto.ngoapi.StreamEventsRequest.prototype.setEventsubtypeList=function(e){return r.Message.setField(this,3,e||[])},proto.ngoapi.StreamEventsRequest.prototype.addEventsubtype=function(e,t){return r.Message.addToRepeatedField(this,3,e,t)},proto.ngoapi.StreamEventsRequest.prototype.clearEventsubtypeList=function(){return this.setEventsubtypeList([])},proto.ngoapi.StreamEventsRequest.prototype.getEventactionList=function(){return r.Message.getRepeatedField(this,4)},proto.ngoapi.StreamEventsRequest.prototype.setEventactionList=function(e){return r.Message.setField(this,4,e||[])},proto.ngoapi.StreamEventsRequest.prototype.addEventaction=function(e,t){return r.Message.addToRepeatedField(this,4,e,t)},proto.ngoapi.StreamEventsRequest.prototype.clearEventactionList=function(){return this.setEventactionList([])},proto.ngoapi.StreamEventsRequest.prototype.getLastindex=function(){return r.Message.getFieldWithDefault(this,5,"")},proto.ngoapi.StreamEventsRequest.prototype.setLastindex=function(e){return r.Message.setProto3StringField(this,5,e)},r.Message.GENERATE_TO_OBJECT&&(proto.ngoapi.EventTuple.prototype.toObject=function(e){return proto.ngoapi.EventTuple.toObject(e,this)},proto.ngoapi.EventTuple.toObject=function(e,t){var n={key:r.Message.getFieldWithDefault(t,1,""),value:r.Message.getFieldWithDefault(t,2,"")};return e&&(n.$jspbMessageInstance=t),n}),proto.ngoapi.EventTuple.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.ngoapi.EventTuple;return proto.ngoapi.EventTuple.deserializeBinaryFromReader(n,t)},proto.ngoapi.EventTuple.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setKey(n);break;case 2:n=t.readString();e.setValue(n);break;default:t.skipField()}}return e},proto.ngoapi.EventTuple.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.ngoapi.EventTuple.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.ngoapi.EventTuple.serializeBinaryToWriter=function(e,t){var n=void 0;(n=e.getKey()).length>0&&t.writeString(1,n),(n=e.getValue()).length>0&&t.writeString(2,n)},proto.ngoapi.EventTuple.prototype.getKey=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.ngoapi.EventTuple.prototype.setKey=function(e){return r.Message.setProto3StringField(this,1,e)},proto.ngoapi.EventTuple.prototype.getValue=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.ngoapi.EventTuple.prototype.setValue=function(e){return r.Message.setProto3StringField(this,2,e)},proto.ngoapi.StreamEventsResponse.repeatedFields_=[4],r.Message.GENERATE_TO_OBJECT&&(proto.ngoapi.StreamEventsResponse.prototype.toObject=function(e){return proto.ngoapi.StreamEventsResponse.toObject(e,this)},proto.ngoapi.StreamEventsResponse.toObject=function(e,t){var n={index:r.Message.getFieldWithDefault(t,1,""),eventtype:r.Message.getFieldWithDefault(t,2,""),eventaction:r.Message.getFieldWithDefault(t,3,""),eventtupleList:r.Message.toObjectList(t.getEventtupleList(),proto.ngoapi.EventTuple.toObject,e)};return e&&(n.$jspbMessageInstance=t),n}),proto.ngoapi.StreamEventsResponse.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.ngoapi.StreamEventsResponse;return proto.ngoapi.StreamEventsResponse.deserializeBinaryFromReader(n,t)},proto.ngoapi.StreamEventsResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setIndex(n);break;case 2:n=t.readString();e.setEventtype(n);break;case 3:n=t.readString();e.setEventaction(n);break;case 4:n=new proto.ngoapi.EventTuple;t.readMessage(n,proto.ngoapi.EventTuple.deserializeBinaryFromReader),e.addEventtuple(n);break;default:t.skipField()}}return e},proto.ngoapi.StreamEventsResponse.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.ngoapi.StreamEventsResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.ngoapi.StreamEventsResponse.serializeBinaryToWriter=function(e,t){var n=void 0;(n=e.getIndex()).length>0&&t.writeString(1,n),(n=e.getEventtype()).length>0&&t.writeString(2,n),(n=e.getEventaction()).length>0&&t.writeString(3,n),(n=e.getEventtupleList()).length>0&&t.writeRepeatedMessage(4,n,proto.ngoapi.EventTuple.serializeBinaryToWriter)},proto.ngoapi.StreamEventsResponse.prototype.getIndex=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.ngoapi.StreamEventsResponse.prototype.setIndex=function(e){return r.Message.setProto3StringField(this,1,e)},proto.ngoapi.StreamEventsResponse.prototype.getEventtype=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.ngoapi.StreamEventsResponse.prototype.setEventtype=function(e){return r.Message.setProto3StringField(this,2,e)},proto.ngoapi.StreamEventsResponse.prototype.getEventaction=function(){return r.Message.getFieldWithDefault(this,3,"")},proto.ngoapi.StreamEventsResponse.prototype.setEventaction=function(e){return r.Message.setProto3StringField(this,3,e)},proto.ngoapi.StreamEventsResponse.prototype.getEventtupleList=function(){return r.Message.getRepeatedWrapperField(this,proto.ngoapi.EventTuple,4)},proto.ngoapi.StreamEventsResponse.prototype.setEventtupleList=function(e){return r.Message.setRepeatedWrapperField(this,4,e)},proto.ngoapi.StreamEventsResponse.prototype.addEventtuple=function(e,t){return r.Message.addToRepeatedWrapperField(this,4,e,proto.ngoapi.EventTuple,t)},proto.ngoapi.StreamEventsResponse.prototype.clearEventtupleList=function(){return this.setEventtupleList([])},o.object.extend(t,proto.ngoapi)},2239:function(e,t,n){var r=n(8137),o=n(3037).grpc,s=function(){var e=function(){};return e.serviceName="ngoapi.NgoAPI",e}();function i(e,t){this.serviceHost=e,this.options=t||{}}s.streamEvents={methodName:"streamEvents",service:s,requestStream:!1,responseStream:!0,requestType:r.StreamEventsRequest,responseType:r.StreamEventsResponse},t.v=s,i.prototype.streamEvents=function(e,t){var n={data:[],end:[],status:[]},r=o.invoke(s.streamEvents,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onMessage:function(e){n.data.forEach((function(t){t(e)}))},onEnd:function(e,t,r){n.status.forEach((function(n){n({code:e,details:t,metadata:r})})),n.end.forEach((function(n){n({code:e,details:t,metadata:r})})),n=null}});return{on:function(e,t){return n[e].push(t),this},cancel:function(){n=null,r.close()}}}},5583:function(e,t,n){var r=n(3019),o=r,s=function(){return this?this:window}.call(null);o.exportSymbol("proto.ngo.auth.v1.LoginUserRequest",null,s),o.exportSymbol("proto.ngo.auth.v1.LoginUserResponse",null,s),proto.ngo.auth.v1.LoginUserRequest=function(e){r.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.ngo.auth.v1.LoginUserRequest,r.Message),o.DEBUG&&!COMPILED&&(proto.ngo.auth.v1.LoginUserRequest.displayName="proto.ngo.auth.v1.LoginUserRequest"),proto.ngo.auth.v1.LoginUserResponse=function(e){r.Message.initialize(this,e,0,-1,null,null)},o.inherits(proto.ngo.auth.v1.LoginUserResponse,r.Message),o.DEBUG&&!COMPILED&&(proto.ngo.auth.v1.LoginUserResponse.displayName="proto.ngo.auth.v1.LoginUserResponse"),r.Message.GENERATE_TO_OBJECT&&(proto.ngo.auth.v1.LoginUserRequest.prototype.toObject=function(e){return proto.ngo.auth.v1.LoginUserRequest.toObject(e,this)},proto.ngo.auth.v1.LoginUserRequest.toObject=function(e,t){var n={userid:r.Message.getFieldWithDefault(t,1,""),password:r.Message.getFieldWithDefault(t,2,"")};return e&&(n.$jspbMessageInstance=t),n}),proto.ngo.auth.v1.LoginUserRequest.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.ngo.auth.v1.LoginUserRequest;return proto.ngo.auth.v1.LoginUserRequest.deserializeBinaryFromReader(n,t)},proto.ngo.auth.v1.LoginUserRequest.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setUserid(n);break;case 2:n=t.readString();e.setPassword(n);break;default:t.skipField()}}return e},proto.ngo.auth.v1.LoginUserRequest.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.ngo.auth.v1.LoginUserRequest.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.ngo.auth.v1.LoginUserRequest.serializeBinaryToWriter=function(e,t){var n=void 0;(n=e.getUserid()).length>0&&t.writeString(1,n),(n=e.getPassword()).length>0&&t.writeString(2,n)},proto.ngo.auth.v1.LoginUserRequest.prototype.getUserid=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.ngo.auth.v1.LoginUserRequest.prototype.setUserid=function(e){return r.Message.setProto3StringField(this,1,e)},proto.ngo.auth.v1.LoginUserRequest.prototype.getPassword=function(){return r.Message.getFieldWithDefault(this,2,"")},proto.ngo.auth.v1.LoginUserRequest.prototype.setPassword=function(e){return r.Message.setProto3StringField(this,2,e)},r.Message.GENERATE_TO_OBJECT&&(proto.ngo.auth.v1.LoginUserResponse.prototype.toObject=function(e){return proto.ngo.auth.v1.LoginUserResponse.toObject(e,this)},proto.ngo.auth.v1.LoginUserResponse.toObject=function(e,t){var n={accesstoken:r.Message.getFieldWithDefault(t,1,"")};return e&&(n.$jspbMessageInstance=t),n}),proto.ngo.auth.v1.LoginUserResponse.deserializeBinary=function(e){var t=new r.BinaryReader(e),n=new proto.ngo.auth.v1.LoginUserResponse;return proto.ngo.auth.v1.LoginUserResponse.deserializeBinaryFromReader(n,t)},proto.ngo.auth.v1.LoginUserResponse.deserializeBinaryFromReader=function(e,t){for(;t.nextField()&&!t.isEndGroup();){switch(t.getFieldNumber()){case 1:var n=t.readString();e.setAccesstoken(n);break;default:t.skipField()}}return e},proto.ngo.auth.v1.LoginUserResponse.prototype.serializeBinary=function(){var e=new r.BinaryWriter;return proto.ngo.auth.v1.LoginUserResponse.serializeBinaryToWriter(this,e),e.getResultBuffer()},proto.ngo.auth.v1.LoginUserResponse.serializeBinaryToWriter=function(e,t){var n;(n=e.getAccesstoken()).length>0&&t.writeString(1,n)},proto.ngo.auth.v1.LoginUserResponse.prototype.getAccesstoken=function(){return r.Message.getFieldWithDefault(this,1,"")},proto.ngo.auth.v1.LoginUserResponse.prototype.setAccesstoken=function(e){return r.Message.setProto3StringField(this,1,e)},o.object.extend(t,proto.ngo.auth.v1)},8849:function(e,t,n){var r=n(5583),o=n(3037).grpc,s=function(){var e=function(){};return e.serviceName="ngo.auth.v1.NgoAuth",e}();function i(e,t){this.serviceHost=e,this.options=t||{}}s.loginUser={methodName:"loginUser",service:s,requestStream:!1,responseStream:!1,requestType:r.LoginUserRequest,responseType:r.LoginUserResponse},t.v=s,i.prototype.loginUser=function(e,t,n){2===arguments.length&&(n=arguments[1]);var r=o.unary(s.loginUser,{request:e,host:this.serviceHost,metadata:t,transport:this.options.transport,debug:this.options.debug,onEnd:function(e){if(n)if(e.status!==o.Code.OK){var t=new Error(e.statusMessage);t.code=e.status,t.metadata=e.trailers,n(t,null)}else n(null,e.message)}});return{cancel:function(){n=null,r.close()}}}},9305:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return w}});var r=n(5893),o=n(7294),s=n(3037),i=n(8137),a=n(2239),p="https://orderstest.raptorpos.com:8007",u="4a5cb02a-72e1-4ba7-a237-10946261a13f",l=n(9483),g=n.n(l),d=(0,o.createContext)({});function c(e){var t=e.children,n=(0,o.useState)(),l=n[0],c=n[1],v=(0,o.useState)(),h=v[0],m=v[1],f=(0,o.useState)(!1),y=f[0],E=f[1],b=(0,o.useState)(),x=b[0],R=b[1],w=function(e,t){return console.log("group"),null===e||void 0===e?void 0:e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})},S={states:{accessToken:l,salesRecord:h,isLoading:y,customizeRecords:x},actions:{setAccessToken:c,handleLogout:function(){c(""),g().setItem("salesrecord","")},fetchSalesRecord:function(){var e=[],t=new i.UUID,n=new i.StreamEventsRequest;t.setUuid(u),n.setTenantid(t),n.setEventtype("sales"),n.addEventaction("create"),n.setLastindex("0"),E(!0),s.grpc.invoke(a.v.streamEvents,{request:n,host:p,metadata:{Authorization:"Bearer ".concat(l)},onHeaders:function(e){console.log("header",e)},onMessage:function(t){e.push(t.toObject()),g().setItem("salesrecord",e).then((function(e){e.length>84?(console.log(e),m(e),E(!1),R(w(h,"eventtype"))):E(!0)}))},onEnd:function(e){console.log(e)}})},setIsLoading:E,groupPostsbyUserID:w,setCustomizeRecords:R}};return(0,r.jsx)(d.Provider,{value:S,children:t})}var v=n(8849),h=n(5583),m=(n(3794),n(3153));function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(p){o=!0,s=p}finally{try{r||null==a.return||a.return()}finally{if(o)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function y(e){var t=e.open,n=e.title,s=e.groupElement,i=f(o.useState(t),2),a=i[0],p=i[1];return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("button",{className:"min-w-max flex justify-between items-center pt-3 shadow uppercase tracking-wider leading-none h-10 py-2 text-m font-medium text-black bg-gray-100 rounded-sm hover:bg-gray-200 focus:outline-none",onClick:function(){p(!a)},style:{width:"95%",margin:"1rem"},type:"button",children:[(0,r.jsx)("h3",{className:"h-5 ml-2 w-5 text-primary",children:n}),(0,r.jsx)(m.v4q,{className:"h-5 m-2 w-5 text-primary","aria-hidden":"true"})]}),!a&&(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"m-4",children:(0,r.jsx)("div",{className:"flex gap-4",children:s})})})]})})}function E(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"h-full items-center justify-center flex",children:(0,r.jsxs)("svg",{className:"animate-spin h-10 w-10 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(p){o=!0,s=p}finally{try{r||null==a.return||a.return()}finally{if(o)throw s}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var x=function(){var e=(0,o.useContext)(d),t=e.states,n=t.salesRecord,s=t.isLoading,i=t.customizeRecords,a=e.actions,p=a.handleLogout,u=a.fetchSalesRecord,l=a.setCustomizeRecords,g=a.groupPostsbyUserID;(0,o.useEffect)((function(){u()}),[]),(0,o.useEffect)((function(){l(g(n,"eventtype"))}));var c=(0,r.jsx)(r.Fragment,{children:i&&Object.entries(i).map((function(e){var t=b(e,2),n=t[0],o=t[1];return(0,r.jsx)(r.Fragment,{children:"sales_summary"===n&&(0,r.jsx)("section",{className:"py-1 bg-blue Gray-50",children:(0,r.jsx)("div",{className:"block w-full overflow-x-auto",children:(0,r.jsxs)("table",{className:"items-center bg-transparent w-full border-collapse ",children:[(0,r.jsx)("tr",{children:o[0].eventtupleList.map((function(e,t){return(0,r.jsx)("th",{className:"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:e.key})}))}),(0,r.jsx)("tbody",{children:null===o||void 0===o?void 0:o.map((function(e,t){return(0,r.jsx)("tr",{children:e.eventtupleList.map((function(e){return(0,r.jsx)("td",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ",children:e.value})}))})}))})]})})})})}))}),v=(0,r.jsx)(r.Fragment,{children:i&&Object.entries(i).map((function(e){var t=b(e,2),n=t[0],o=t[1];return(0,r.jsx)(r.Fragment,{children:"order_item"===n&&(0,r.jsx)("section",{className:"py-1 bg-blue Gray-50",children:(0,r.jsx)("div",{className:"block w-full overflow-x-auto",children:(0,r.jsxs)("table",{className:"items-center bg-transparent w-full border-collapse ",children:[(0,r.jsx)("tr",{children:o[0].eventtupleList.map((function(e){return(0,r.jsx)("th",{className:"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:e.key})}))}),(0,r.jsx)("tbody",{children:null===o||void 0===o?void 0:o.map((function(e){return(0,r.jsx)("tr",{children:e.eventtupleList.map((function(e){return(0,r.jsx)("td",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ",children:e.value})}))})}))})]})},o)},o)})}))}),h=(0,r.jsx)(r.Fragment,{children:i&&Object.entries(i).map((function(e){var t=b(e,2),n=t[0],o=t[1];return(0,r.jsx)(r.Fragment,{children:"order"===n&&(0,r.jsx)("section",{className:"py-1 bg-blueGray-50",children:(0,r.jsx)("div",{className:"block w-full overflow-x-auto",children:(0,r.jsxs)("table",{className:"items-center bg-transparent w-full border-collapse ",children:[(0,r.jsx)("tr",{children:o[0].eventtupleList.map((function(e){return(0,r.jsx)("th",{className:"px-6 bg-blueGray-50 text-blueGray-500 align-middle border border-solid border-blueGray-100 py-3 text-xs uppercase border-l-0 border-r-0 whitespace-nowrap font-semibold text-left",children:e.key})}))}),(0,r.jsx)("tbody",{children:null===o||void 0===o?void 0:o.map((function(e,t){return(0,r.jsx)("tr",{children:e.eventtupleList.map((function(e){return(0,r.jsx)("td",{className:"border-t-0 px-6 align-middle border-l-0 border-r-0 text-xs whitespace-nowrap p-4 ",children:e.value})}))})}))})]})},o)},o)})}))});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("nav",{className:"bg-white shadow-lg",children:(0,r.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("div",{className:"flex space-x-7 m-4",children:[(0,r.jsx)("img",{src:"/logo.png",alt:"Logo",className:"h-8 w-30"}),(0,r.jsx)("span",{className:"font-semibold uppercase text-gray-500 text-lg",children:"Sales Record"})]}),(0,r.jsx)("button",{className:"bg-red-500 float-right hover:bg-red-700 text-white uppercase text-sm font-semibold px-4 m-3 py-2 rounded",onClick:p,children:"LOGOUT"})]})})}),(0,r.jsx)("div",{}),!1===s&&n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y,{open:!0,title:"orderItem",groupElement:v}),(0,r.jsx)(y,{open:!0,title:"sales_summary",groupElement:c}),(0,r.jsx)(y,{open:!1,title:"orders",groupElement:h})]}):(0,r.jsx)("div",{className:"justify-between m-80",children:(0,r.jsx)(E,{})})]})},R=function(){var e=(0,o.useState)(""),t=e[0],n=e[1],i=(0,o.useState)(""),a=i[0],u=i[1],l=(0,o.useState)(""),g=l[0],c=l[1],m=(0,o.useContext)(d),f=m.states.accessToken,y=m.actions.setAccessToken;return(0,r.jsx)(r.Fragment,{children:f?(0,r.jsx)(x,{}):(0,r.jsx)("div",{className:"flex items-center h-screen w-full",children:(0,r.jsxs)("div",{className:"w-full bg-white rounded shadow-lg p-8 m-4 md:max-w-sm md:mx-auto",children:[(0,r.jsx)("span",{className:"block w-full text-xl uppercase font-bold mb-3",children:"Login"}),g&&(0,r.jsx)("span",{className:"flex truncate items-center font-medium tracking-wide width-10 text-red-500 text-xs mt-1 mb-2 2ml-1",children:g}),(0,r.jsxs)("form",{className:"mb-4",action:"/",method:"post",children:[(0,r.jsxs)("div",{className:"mb-4 md:w-full",children:[(0,r.jsx)("label",{className:"block text-xs mb-1",children:"UserID"}),(0,r.jsx)("input",{className:"w-full border rounded p-2 outline-none focus:shadow-outline",name:"email",value:t,onChange:function(e){return n(e.target.value)},placeholder:"UserId"})]}),(0,r.jsxs)("div",{className:"mb-6 md:w-full",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-xs mb-1",children:"Password"}),(0,r.jsx)("input",{className:"w-full border rounded p-2 outline-none focus:shadow-outline",type:"password",name:"password",id:"password",placeholder:"Password",value:a,onChange:function(e){return u(e.target.value)}})]}),(0,r.jsx)("button",{className:"bg-blue-500 hover:bg-blue-700 text-white uppercase text-sm font-semibold px-4 py-2 rounded",onClick:function(e){return function(e,t,n){e.preventDefault();var r=new h.LoginUserRequest;r.setUserid(t),r.setPassword(n),s.grpc.unary(v.v.loginUser,{request:r,host:p,onEnd:function(e){var t=e.status,n=e.statusMessage,r=e.message;c(n),t===s.grpc.Code.OK&&r&&(console.log("Got access token "),y(r.toObject().accesstoken))}})}(e,t,a)},children:"Login"})]})]})})})};function w(){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(c,{children:(0,r.jsx)(R,{})})})}}},function(e){e.O(0,[29,587,774,888,179],(function(){return t=8581,e(e.s=t);var t}));var t=e.O();_N_E=t}]);